{% extends 'base.html' %} {% block app_content %}
<h1>{{ assignment.title }}</h1>
<p>{{ assignment.description }}</p>
<div class="row">
    <div class="col-md-12">
        {% if current_user.role.name in ['teacher', 'admin'] %}
        <a href="{{url_for('assignments.edit_assignment', id=assignment.id)}}" class="btn btn-default">Edit</a>
        {% endif%}
    </div>
</div>
<div id="editorHolder">

</div><script>
    function loadEditor(tab) {
        var editorHolder = $("#editorHolder");

        $.ajax({
            data: { tab: tab },
            url: '{{ url_for('assignments.editor', assignment_id=assignment.id) }}',
            success: function (response) {
                editorHolder.empty();
                editorHolder.html(response);
                init(tab);
            },
            error: function () {

            }
        });
    }

    window.onload = function () {
        loadEditor('solution');
    };
</script> {% endblock %}